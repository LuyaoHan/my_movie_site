(this.webpackJsonpmy_movie_site=this.webpackJsonpmy_movie_site||[]).push([[0],{113:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(11),o=a.n(l),r=a(7),s=a(8),c=a(10),u=a(9),v=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).addStyling=function(){return e.props.tab.id===e.props.activeTab?{backgroundColor:"Navy",color:"#6e7fc9"}:{backgroundColor:"white"}},e}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"Tab",style:this.addStyling(),onClick:this.props.changeTab.bind(this,this.props.tab.id)},i.a.createElement("font",{className:"each-tab"},this.props.tab.title),i.a.createElement("h1",null))}}]),a}(n.Component),p=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return this.props.tabs.map((function(t){return i.a.createElement(v,{tab:t,activeTab:e.props.activeTab,changeTab:e.props.changeTab})}))}}]),a}(n.Component),m=(a(37),n.Component,n.Component,n.Component,a(19)),d=a(36),h=a(27),b=a(46),f=a.n(b),g=a(139),y=a(134),E=a(137),O=a(67),w=a.n(O);var D=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={movieData:{},open:!1},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("https://www.omdbapi.com/?apikey=cab6a2b3&i=".concat(this.props.movieid,"&plot=full")).then((function(e){return e.data})).then((function(t){e.setState({movieData:t})}))}},{key:"render",value:function(){var e=this;return this.state.movieData.Poster&&"N/A"!==this.state.movieData?i.a.createElement(g.a,{key:this.props.indexKey,cols:1,rows:2},i.a.createElement("img",{src:this.state.movieData.Poster,alt:this.state.movieData.Title}),i.a.createElement(y.a,{title:this.state.movieData.Title,titlePosition:"top",actionIcon:i.a.createElement("div",null,i.a.createElement(E.a,{"aria-label":"info ".concat(this.state.movieData.Title),style:{color:"white"},onClick:function(){e.props.changeIndexKey(e.props.indexKey),e.props.setOpen(!0),e.props.changeMoviePoster(e.state.movieData)}},i.a.createElement(w.a,null))),actionPosition:"left",className:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)",width:"100%",height:"100%"}})):null}}]),a}(n.Component),j=a(135),k=a(136),S=a(47),I=a.n(S),C=a(17),M=a(68);function T(e){var t=e.lists,a=Object(n.useState)(!1),l=Object(C.a)(a,2),o=(l[0],l[1]);return T.handleClickOutside=function(){return o(!1)},i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("label",null,"Pick your favorite flavor:",i.a.createElement("select",{value:this.state.value,onChange:this.handleChange},i.a.createElement("option",{value:"grapefruit"},"Grapefruit"),i.a.createElement("option",{value:"lime"},"Lime"),i.a.createElement("option",{value:"coconut"},"Coconut"),i.a.createElement("option",{value:"mango"},"Mango"))),i.a.createElement("input",{type:"submit",value:"Submit"})),t.map((function(e,t){return i.a.createElement("h7",null,e.value)})))}var A={handleClickOutside:function(){return T.handleClickOutside}},_=(Object(M.a)(T,A),{apiKey:"AIzaSyCHsVe-v2Yumme2Ks1XhWVVIYerA5bzWws",authDomain:"myreactsite.firebaseapp.com",databaseURL:"https://myreactsite.firebaseio.com"});var x=a(44),P=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={moviePoster:"",open:!1,key:1,isOpen:!1,toggle:0,visible:8,movies_list:[],perf_listSelection:[],listShown:[],movie_perf_pairs:[]},e.changeMoviePoster=function(t){e.setState({moviePoster:t})},e.changeKey=function(t){e.setState({key:t})},e.setOpen=function(t){e.setState({open:t})},e.loadmore=e.loadmore.bind(Object(h.a)(e)),e.listSelectOnChange=e.listSelectOnChange.bind(Object(h.a)(e)),e.ModalDropOptions=e.ModalDropOptions.bind(Object(h.a)(e)),e.perf_list=[],x.apps.length||x.initializeApp(_),e}return Object(s.a)(a,[{key:"loadmore",value:function(){this.setState((function(e){return{visible:e.visible+8}}))}},{key:"componentWillMount",value:function(){var e=this;x.apps.length||x.initializeApp(_),console.log("component will mount!");var t=x.database().ref("AllLists"),a=t.child("All"),n=[];a.on("value",(function(t){t.val();t.forEach((function(e){var t=e.child("IMDbID").val(),a=e.child("Title").val(),i=e.child("Director").val(),l=e.child("Rating").val(),o=e.child("PosterURL").val(),r=e.child("Actors").val(),s=e.child("Genre").val(),c=e.child("IMDbID").val();n.push({key:c,IMDbID:t,Title:a,PosterURL:o,Director:i,Actors:r,Genre:s,Rating:l})})),e.setState({movies_list:[].concat(Object(d.a)(e.state.movies_list),n)})}));var i=[];t.on("value",(function(t){t.val();t.forEach((function(e,t){i.push(e.key)})),e.setState({perf_listSelection:[].concat(Object(d.a)(e.state.perf_listSelection),i)})}));var l=[],o=[];t.on("value",(function(t){t.val();t.forEach((function(e,t){e.forEach((function(e){var t=e.child("IMDbID").val(),a=e.child("Title").val(),n=e.child("Director").val(),i=e.child("Rating").val(),l=e.child("PosterURL").val(),r=e.child("Actors").val(),s=e.child("Genre").val(),c=e.child("IMDbID").val();o.push({key:c,IMDbID:t,Title:a,PosterURL:l,Director:n,Actors:r,Genre:s,Rating:i})}))})),l.push(o),e.perf_list=l,e.forceUpdate(),e.setState({listShown:Object(d.a)(e.perf_list[0])})})),this.forceUpdate(),console.log("printing perf names");t.on("value",(function(t){t.val();t.child("movie_perf_pairs").forEach((function(e,t){var a=e.child("IMDbID").val();console.log("movie is: "+a),e.child("perfs").forEach((function(e,t){console.log(e.val())}))})),l.push(o),e.perf_list=l,e.forceUpdate(),e.setState({listShown:Object(d.a)(e.perf_list[0])})})),this.forceUpdate()}},{key:"listSelectOnChange",value:function(e){console.log("target value: "+e.target.index),this.setState(Object(m.a)({},this.state.active_list,this.state.perf_listSelection[e.target.index])),console.log("list selected: "+this.state.list_selected)}},{key:"ModalDropOptions",value:function(e){this.state.perf_listSelection.map((function(e,t){return i.a.createElement("option",{key:t,value:e.value},e)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{display:"block"}},i.a.createElement("div",null,i.a.createElement("select",{name:"perf_listSelection",onChange:this.listSelectOnChange},this.state.perf_listSelection.map((function(e,t){return i.a.createElement("option",{key:t,value:e.value},e)})))),i.a.createElement("div",null),i.a.createElement("div",null,i.a.createElement(j.a,{cellHeight:150,spacing:1,style:{width:"95%",height:"85vh"}},this.state.movies_list.slice(0,this.state.visible).map((function(t){return i.a.createElement(D,{movieid:t.IMDbID,indexKey:t.key,changeIndexKey:e.changeKey,setOpen:e.setOpen,changeMoviePoster:e.changeMoviePoster})}))),i.a.createElement(k.a,{open:this.state.open,onClose:function(){e.setOpen(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},i.a.createElement("div",{style:{top:"20%",left:"20%",backgroundColor:"transparent",position:"absolute",display:"flex"}},i.a.createElement("div",{style:{width:"auto",height:"auto",justifyContent:"center",textAlign:"center",paddingTop:"23%",paddingLeft:"10px",paddingRight:"10px",lineHeight:"200%",backgroundColor:"#c3cfe2"}},i.a.createElement("h7",null,"Title: ",this.state.moviePoster.Title," ",i.a.createElement("br",null),"Director: ",this.state.moviePoster.Director," ",i.a.createElement("br",null),"Genre: ",this.state.moviePoster.Genre,i.a.createElement("br",null),"IMDB Rating: ",this.state.moviePoster.imdbRating),i.a.createElement("div",null,i.a.createElement("select",{name:"perf_listSelection"},this.ModalDropOptions))),i.a.createElement("img",{src:this.state.moviePoster.Poster,height:"auto",alt:"poster"}),i.a.createElement(E.a,{onClick:function(){e.state.key;var t=[];console.log("delete target"+e.state.key),e.state.movies_list.forEach((function(a,n){console.log("item key"+a.key),a.key!=e.state.key&&(t.push(a),console.log("here"),console.log(a.Title))})),console.log(t),e.setState({movies_list:[].concat(t)}),e.setOpen(!1)}},i.a.createElement(I.a,{style:{color:"red"}})))),i.a.createElement("button",{type:"button",onClick:this.loadmore,style:{position:"relative",alignItems:"center"}},"Load More~")))}}]),a}(n.Component),R=(a(48),a(138)),L=a(44);var G=function(){var e=Object(n.useState)(!0),t=Object(C.a)(e,2),l=(t[0],t[1],{position:"relative",fontSize:"12px",left:"10vw",top:"8vh"});Object(n.useEffect)((function(){L.apps.length||L.initializeApp(_)}));var o=Object(n.useState)([]),r=Object(C.a)(o,2),s=(r[0],r[1],Object(n.useState)({newMovieID:""})),c=Object(C.a)(s,2),u=c[0],v=c[1],p=function(e){console.log("enter submit callback for adding a new movie"),e.preventDefault(),console.log("At submission, values.newMovieID is: "+u.newMovieID);var t=!1;if(L.database().ref("AllLists").child("All").on("value",(function(e){var a=e.val();console.log(a),e.forEach((function(e){e.child("IMDbID").val()==u.newMovieID&&(t=!0)}))})),t?console.log("\u274cMovie already in database, not added"):console.log("\u2705 Movie not in database, now add"),!t){var n,i,l,o,r,s,c,p=a(46).default,m="https://www.omdbapi.com/?apikey=16e23e6c&i="+u.newMovieID;p.get(m);p.get(m).then((function(e){n=e.data,i=n.Title,l=n.Director,o=n.imdbRating,r=n.Poster,s=n.Actors,c=n.Genre})).then((function(){console.log("recvTitle is: "+i),console.log("recvDirector is: "+l),console.log("recvRating is: "+o),console.log("recvPosterURL is: "+r),console.log("recvActors is: "+s),console.log("recvGenre is: "+c),L.database().ref("AllLists").child("All").child(u.newMovieID).set({IMDbID:u.newMovieID,Title:i,PosterURL:r,Director:l,Actors:s,Genre:c,Rating:o})}))}f(!0),v({newMovieID:""})},d=Object(n.useState)(!1),h=Object(C.a)(d,2),b=h[0],f=h[1];return i.a.createElement("div",{className:"GuestBook",style:{backgroundColor:"#eadedb",backgroundRepeat:"repeat-y",position:"relative",height:"80vh",width:"100%",display:"flex",fontFamily:"Raleway, sans-serif",fontStyle:"2px",letterSpacing:"1px"}},i.a.createElement("form",{onSubmit:p,noValidate:!0},i.a.createElement("div",{style:l},i.a.createElement("label",{style:{fontFamily:"lucida grande,arial",fontSize:"1vw",fontWeight:"bold",color:"#2E4A62",position:"relative",top:"0vw",left:"-1vw"}},"IMDBid"),i.a.createElement("br",null),i.a.createElement("input",{name:"newMovieID",type:"newMovieID",value:u.newMovieID,onChange:function(e){console.log(e.target.name,"new movie is:"+e.target.value),console.log("event.target.name is:"+e.target.name),v(Object(m.a)({},e.target.name,e.target.value)),console.log("values.newMovieID"+u.newMovieID)},style:{fontFamily:"Raleway, sans-serif",fontStyle:"32px",marginBottom:"20px"}})),i.a.createElement("div",{style:l,onClick:p},i.a.createElement("button",{type:"submit"},"submit")),i.a.createElement(R.a,{style:l,color:"info",isOpen:b,toggle:function(){return f(!1)},fade:!0},"Add request sent!")))},N=a(44);var U=function(){var e={position:"relative",fontSize:"12px",left:"10vw",top:"8vh"};Object(n.useEffect)((function(){N.apps.length||N.initializeApp(_)}));var t=Object(n.useState)({newlist:""}),a=Object(C.a)(t,2),l=a[0],o=a[1],r=function(e){console.log("enter submit callback"),e.preventDefault(),console.log("values.newlist is: "+l.newlist),N.database().ref("AllLists").child(l.newlist).set(""),v(!0),o({newlist:""})},s=Object(n.useState)(!1),c=Object(C.a)(s,2),u=c[0],v=c[1];return i.a.createElement("div",{className:"CreateList",style:{backgroundColor:"#0e6e66",backgroundRepeat:"repeat-y",position:"relative",height:"80vh",width:"100%",display:"flex",fontFamily:"Raleway, sans-serif",fontStyle:"2px",letterSpacing:"1px"}},i.a.createElement("form",{onSubmit:r,noValidate:!0},i.a.createElement("div",{style:e},i.a.createElement("label",{style:{fontFamily:"lucida grande,arial",fontSize:"1vw",fontWeight:"bold",color:"#2E4A62",position:"relative",top:"0vw",left:"-1vw"}},"List Name"),i.a.createElement("br",null),i.a.createElement("input",{name:"newlist",type:"newlist",value:l.newlist,onChange:function(e){console.log(e.target.name,"newlist is:"+e.target.value),o(Object(m.a)({},e.target.name,e.target.value))},style:{fontFamily:"Raleway, sans-serif",fontStyle:"32px",marginBottom:"20px"}})),i.a.createElement("div",{style:e,onClick:r},i.a.createElement("button",{type:"submit"},"submit")),i.a.createElement(R.a,{style:e,color:"info",isOpen:u,toggle:function(){return v(!1)},fade:!0},"The list is now added!")))},z=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).displayContent=function(){var t=e.props.activeTab;return console.log("Body.js: activeTab is",e.props.activeTab),1===t?i.a.createElement(P,null):2===t?i.a.createElement(G,null):3===t?i.a.createElement(U,null):i.a.createElement(P,null)},e}return Object(s.a)(a,[{key:"render",value:function(){return this.displayContent()}}]),a}(n.Component),K=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={activeTab:1},e.changeTab=function(t){e.setState({activeTab:t}),console.log("App.js: id is %d",t)},e}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"body"},i.a.createElement("div",{className:"nav-bar"},i.a.createElement(p,{tabs:[{id:1,title:"Movies"},{id:2,title:"Add Movies"},{id:3,title:"Create List"}],activeTab:this.state.activeTab,changeTab:this.changeTab})),i.a.createElement("div",{className:"main-body"},i.a.createElement(z,{activeTab:this.state.activeTab})))}}]),a}(n.Component);a(113);o.a.render(i.a.createElement(K,null),document.getElementById("root"))},37:function(e,t,a){},72:function(e,t,a){e.exports=a(114)}},[[72,1,2]]]);
//# sourceMappingURL=main.05b02714.chunk.js.map